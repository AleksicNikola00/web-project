<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebShop - shopper dashboard</title>

    <link rel="stylesheet" href="../Bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="dashboard.css">

</head>

<body>

    <div class="container-fluid h-100" id="dashboard">
        <div class="row">

            <!-- Left panel -->
            <div class="col-2">
                <div class="card w-100 mysidebar bg-light">
                    <div class="container-fluid text-center mytoppadding">
                        <h2>Main menu</h2>
                    </div>

                    <div class="container">
                        <hr>
                    </div>
                    <div class="container-fluid text-center mainmenu">
                        <button type="button" id="restaurants" class="btn btn-light w-100 myButtonMenu"
                            v-on:click="selectSubmenu('restaurants')">Restaurants</button>
                        <button type="button" id="viewCart" class="btn btn-light w-100 myButtonMenu"
                            v-on:click="selectSubmenu('viewCart')">View cart</button>
                        <button type="button" id="myProfile" class="btn btn-light w-100 myButtonMenu"
                            v-on:click="selectSubmenu('myProfile')">My profile</button>
                        <button type="button" id="orders" class="btn btn-light w-100 myButtonMenu"
                            v-on:click="selectSubmenu('orders')">Orders</button>
                    </div>

                    <div class="container mt-auto text-center" style="margin-bottom: 20px;">
                        <hr>
                        <button type="button" class="btn btn-ligt w-100">Logout</button>
                    </div>
                </div>
            </div>

            <!-- Restaurants view -->
            <div class="col-10" v-if="visible == 'restaurants'">
                <!-- Jumbotron -->
                <div class="container">
                    <div class="card myJumbotron">
                        <div id="carouselExampleFade" class="carousel slide mycanvas" data-bs-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active">
                                    <img src="../Images/dashboard-1.png" class="d-block w-100 mySlideItems">
                                </div>
                                <div class="carousel-item">
                                    <img src="../Images/dashboard-2.png" class="d-block w-100 mySlideItems">
                                </div>
                                <div class="carousel-item">
                                    <img src="../Images/dashboard-3.png" class="d-block w-100 mySlideItems">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Filtering area -->
                <div class="container">
                    <hr>

                    <div class="row ">
                        <div class="col-1"></div>

                        <div class="col-1 my-auto">
                            <label class="form-label">Name:</label>
                        </div>
                        <div class="col-2 my-auto">
                            <input class="form-control my-auto" v-model="filterObj.name">
                        </div>

                        <div class="col-1"></div>

                        <div class="col-1 my-auto">
                            <label class="form-label">Type:</label>
                        </div>
                        <div class="col-2 my-auto">
                            <input class="form-control" v-model="filterObj.type">
                        </div>

                        <div class="col-1 my-auto"></div>

                        <div class="col-2 my-auto">
                            <input class="form-check-input" type="radio" name="flexRadioDefault"
                                :checked="filterObj.isAsc" id="ascendingRadio" v-on:click="ascClick()">
                            <label class="form-check-label" for="ascendingRadio">
                                Ascending
                            </label>
                        </div>

                        <div class="col-1"></div>
                    </div>
                    <div class="row" style="margin-top: 5px; margin-bottom: 5px;"></div>
                    <div class="row">
                        <div class="col-1"></div>

                        <div class="col-1 my-auto">
                            <label class="form-label">Location:</label>
                        </div>
                        <div class="col-2 my-auto">
                            <input class="form-control my-auto" v-model="filterObj.location">
                        </div>

                        <div class="col-1"></div>

                        <div class="col-1 my-auto">
                            <label class="form-label">Rating:</label>
                        </div>
                        <div class="col-1 my-auto">
                            <select class="form-select" aria-label="Default select example" v-model="filterObj.rating">
                                <option selected value="all">all</option>
                                <option value="1">1</option>
                                <option value="2">2</option>
                                <option value="3">3</option>
                                <option value="4">4</option>
                                <option value="5">5</option>
                            </select>
                        </div>
                        <div class="col-1 my-auto">
                            <input class="form-check-input" type="checkbox" id="flexCheckDefault"
                                :checked="filterObj.isOpen" v-on:click="isOpenClick()">
                            <label class="form-check-label" for="flexCheckDefault">
                                Is open
                            </label>
                        </div>

                        <div class="col-1 my-auto"></div>

                        <div class="col-2 my-auto">
                            <input class="form-check-input" type="radio" name="flexRadioDefault" id="descendingRadio"
                                v-checked="filterObj.isDesc" v-on:click="descClick()">
                            <label class="form-check-label" for="descendingRadio">
                                Descending
                            </label>
                        </div>
                        <div class="col-1"></div>
                    </div>
                    <hr>
                </div>

                <!-- Restasurants menu -->
                <div class="container mytoppadding myMainRestaurants">
                    <div class="overflow-auto container" style="height: 460px;">
                        <div class="row">
                            <div class="col-sm-3" v-for="(restaurant, index) in restaurants">
                                <div class="card mytoppadding myRestaurantCard bg-light"
                                    v-on:click="pressedRestaurant(restaurant, index)">
                                    <div class="card-body">
                                        <div class="row">
                                            <div class="col-6">
                                                <img class="mb-4" src="../Images/logo.png" alt="" width="72"
                                                    height="57">
                                            </div>
                                            <div class="col-6">
                                                <h5 class="card-title" style="margin-top: 20px; margin-right: 60px;">
                                                    {{restaurant.name}}</h5>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-5">
                                                <h5 style="margin-left: 15px;">Type:</h5>
                                            </div>
                                            <div class="col-6 text-end">
                                                <h5 style="color: grey">{{restaurant.type}}</h5>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-5">
                                                <h5 style="margin-left: 15px; margin-top: 10px;">Rating:</h5>
                                            </div>
                                            <div class="col-6 text-end">
                                                <h5 style="margin-left: 15px; margin-top: 10px; color: grey">
                                                    {{restaurant.rating}}</h5>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-6">
                                                <h5 style="margin-left: 15px; margin-top: 10px;">Currently:</h5>
                                            </div>
                                            <div class="col-5 text-end">
                                                <h5 style="margin-left: 15px; margin-top: 10px; color: grey">
                                                    {{(restaurant.open == 'true') ? 'Open' : 'Closed'}}</h5>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-12">
                                                <h5 style="margin-left: 15px; margin-top: 10px; color: grey">
                                                    {{restaurant.address}}</h5>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <h5 style="margin-left: 15px; margin-top: 10px; color: grey">
                                                    {{restaurant.city}}</h5>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Toasts area -->
                <div class="toast-container">
                    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
                        <div v-bind:id="'restToast' + index" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(rest, index) in restaurants">
                            <div class="toast-header bg-danger">
                                <strong class="me-auto" style="color: white;">WebShop</strong>
                                <small style="color: white;">just now</small>
                                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                            </div>
                            <div class="toast-body">
                                Restaurant {{rest.name}} isn't currently open so you can't order from there...
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- My profile view -->
            <div class="col-10" v-if="visible == 'myProfile'">
                <div class="container">
                    <div class="row headerRow">
                        <h2 style="margin-left: 40px;">Account details</h2>
                    </div>

                    <hr>

                    <div class="row">
                        <div class="col-6">
                            <div class="row normalRow">
                                <div class="col-4 my-auto">
                                    <label class="form-label">Username:</label>
                                </div>
                                <div class="col-7 my-auto">
                                    <input class="form-control" v-model="tempCurrUser.username" readonly>
                                </div>
                            </div>

                            <div class="row normalRow">
                                <div class="col-4 my-auto">
                                    <label class="form-label">First name:</label>
                                </div>
                                <div class="col-7 my-auto">
                                    <input class="form-control" v-model="tempCurrUser.firstname">
                                </div>
                            </div>

                            <div class="row normalRow">
                                <div class="col-4 my-auto">
                                    <label class="form-label">Last name:</label>
                                </div>
                                <div class="col-7 my-auto">
                                    <input class="form-control" v-model="tempCurrUser.lastname">
                                </div>
                            </div>

                            <div class="row normalRow">
                                <div class="col-4 my-auto">
                                    <label class="form-label">Email:</label>
                                </div>
                                <div class="col-7 my-auto">
                                    <input class="form-control" v-model="tempCurrUser.email">
                                </div>
                            </div>

                            <div class="row normalRow">
                                <div class="col-4 my-auto">
                                    <label class="form-label">Date of birth:</label>
                                </div>
                                <div class="col-7 my-auto">
                                    <input class="form-control" type="date" v-model="tempCurrUser.dateOfBirth"
                                        id="example-date-input">
                                </div>
                            </div>

                            <hr style="margin-top: 30px;">

                            <div class="row normalRow">
                                <div class="col-4 my-auto">
                                    <label class="form-label">Old password:</label>
                                </div>
                                <div class="col-7 my-auto">
                                    <input class="form-control" type="password" v-model="tempCurrUser.oldPass">
                                </div>
                            </div>

                            <div class="row normalRow">
                                <div class="col-4 my-auto">
                                    <label class="form-label">New password:</label>
                                </div>
                                <div class="col-7 my-auto">
                                    <input class="form-control" type="password" v-model="tempCurrUser.newPass">
                                </div>
                            </div>

                            <div class="row normalRow">
                                <div class="col-4"></div>
                                <div class="col-6">
                                    <button class="btn btn-primary" v-on:click="validateAccountDetails()">Apply changes</button>
                                </div>
                            </div>
                        </div>

                        <div class="col-6 text-center">
                            <img src="../Images/bronze-member.png" style="width: 20%; height: auto; margin-top: 180px;"
                                v-if="status == 'bronze'">
                            <img src="../Images/silver-member.png" style="width: 20%; height: auto; margin-top: 180px;"
                                v-if="status == 'silver'">
                            <img src="../Images/gold-member.png" style="width: 20%; height: auto; margin-top: 180px;"
                                v-if="status == 'gold'">
                            <h3 style="margin-top: 20px;">You have <em>{{tempCurrUser.points}}</em> points!</h3>
                            <br>
                            <h3>That makes you a <em>{{status}}</em> buyer!</h3>
                        </div>
                    </div>
                </div>

                <!-- Toasts -->
                <div class="toast-container">
                    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
                        <div id="accountToastFail" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(rest, index) in restaurants">
                            <div class="toast-header bg-danger">
                                <strong class="me-auto" style="color: white;">WebShop</strong>
                                <small style="color: white;">just now</small>
                                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                            </div>
                            <div class="toast-body">
                                Oops! <br>
                                <span style="white-space: pre;">{{validationMessage}}</span>
                            </div>
                        </div>
                    </div>
                    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
                        <div id="accountToastSuccess" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(rest, index) in restaurants">
                            <div class="toast-header bg-success">
                                <strong class="me-auto" style="color: white;">WebShop</strong>
                                <small style="color: white;">just now</small>
                                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                            </div>
                            <div class="toast-body">
                                Account details updated successfully!
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Chosen restaurants menu -->
            <div class="col-10" v-if="visible == 'specificRestaurant'">
                <div class="container">

                    <!--Top card-->
                    <div class="row">
                        <div class="card myChosenRestHeader bg-light">
                            <div class="container my-auto">
                                <div class="row">
                                    <div class="col-2">
                                        <!--picture-->
                                        <img src="../Images/bronze-member.png" style="max-width: 170px;"
                                            class="rounded">
                                    </div>
                                    <div class="col-4">
                                        <!--name and loc-->
                                        <div style="margin-left: 20px; margin-top: 20px;">
                                            <h1>
                                                {{selectedRestaurant.name}}
                                            </h1>
                                            <div style="margin-top: 55px;">
                                                <a style="font-size: 25px;" href="#" class="link-secondary">
                                                    {{selectedRestaurant.address + ', ' + selectedRestaurant.city}}
                                                </a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-4">
                                        <!--type-->
                                        <h2 class="text-muted" style="margin-top: 20px;">
                                            {{selectedRestaurant.type}}
                                        </h2>
                                    </div>
                                    <div class="col-2">
                                        <!--rating and open-->
                                        <h2 style="margin-top: 20px; margin-left: 40px;" class="text-muted">
                                            {{selectedRestaurant.rating + '*'}}
                                        </h2>
                                        <h2 style="margin-top: 55px; margin-left: 40px;" class="text-muted">
                                            {{selectedRestaurant.open == 'true' ? 'Open' : 'Closed'}}
                                        </h2>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!--Comment area and restaurant menu-->
                    <div class="row" style="margin-top: 20px;">
                        <!--menu area-->
                        <div class="col-8">
                            <div class="container w-100" style="height: 670px; width: 100%; overflow: hidden;">
                                <div class="container"
                                    style="width: 100%; height: 100%; overflow-y: scroll; box-sizing: content-box; padding-right: 17px;">
                                    <div class="row">
                                        <div class="card bg-light" v-for="(food, index) in menuForRestaurant"
                                            style="width: 47%; height: 350px; margin-bottom: 10px; margin-right: 20px;">

                                            <!-- food picture -->
                                            <div class="text-center" style="margin-top: 15px;">
                                                <img src="../Images/bronze-member.png" class="rounded"
                                                    style="max-width: 70px;">
                                            </div>

                                            <div class="container">
                                                <hr>
                                            </div>
                                            <!-- properties -->

                                            <div class="container">
                                                <div class="row">
                                                    <div class="col-1"></div>

                                                    <div class="col-5">
                                                        <h6>Name :</h6><br>
                                                        <h6>Type :</h6><br>
                                                        <h6>Price :</h6>
                                                    </div>
                                                    <div class="col-5 text-end">
                                                        <h6>{{food.name}}</h6><br>
                                                        <h6>{{food.type}}</h6><br>
                                                        <h6>{{food.price}}</h6>
                                                    </div>
                                                    <div class="col-1"></div>
                                                </div>
                                            </div>

                                            <div class="container">
                                                <hr>
                                            </div>
                                            <!-- add button and stuff -->
                                            <div class="container">
                                                <div class="row">
                                                    <div class="col-1"></div>

                                                    <div class="col-4 my-auto">
                                                        <h6>Amount :</h6>
                                                    </div>
                                                    <div class="col-4">
                                                        <input type="number" min="0" step="1" class="form-control"
                                                            name="inputs" id="index">
                                                    </div>
                                                    <div class="col-2">
                                                        <button class="btn-success btn"
                                                            v-on:click="addToCart(index)">Add</button>
                                                    </div>

                                                    <div class="col-1"></div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <!--comment area-->
                        <div class="col-4">
                            <div class="card bg-light" style="height: 670px; width: 103%;">
                                <div class="row" style="margin-top: 20px;">
                                    <div class="text-center">
                                        <h2>Comment</h2>
                                    </div>

                                    <div class="container">
                                        <div class="row">
                                            <div class="col-1"></div>

                                            <div class="col-10">
                                                <hr>
                                            </div>

                                            <div class="col-1"></div>
                                        </div>
                                    </div>

                                    <div class="container" style="height: 550px; width: 90%; overflow: hidden;">
                                        <div class="container"
                                            style="width: 100%; height: 100%; overflow-y: scroll; box-sizing: content-box; padding-right: 17px;">
                                            <div class="row">
                                                <div class="col-1"></div>

                                                <div class="col-10">
                                                    <div v-for="comment in commentsForRestaurant"
                                                        style="margin-bottom: 15px;">
                                                        <figure class="text-end">
                                                            <blockquote class="blockquote">
                                                                <p>
                                                                    {{comment.text}}
                                                                    <br>
                                                                    Mark : {{comment.rating}}*
                                                                </p>
                                                            </blockquote>
                                                            <figcaption class="blockquote-footer">
                                                                <cite title="Source Title">{{comment.user}}</cite>
                                                            </figcaption>
                                                        </figure>
                                                    </div>
                                                </div>
                                                <div class="col-1"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Toast area -->
                    <div class="toast-container">
                        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
                            <div name="liveToasts" v-bind:id="'toast' + index" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(food, index) in menuForRestaurant">
                                <div class="toast-header bg-success">
                                    <strong class="me-auto" style="color: white;">WebShop</strong>
                                    <small style="color: white;">just now</small>
                                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                                </div>
                                <div class="toast-body">
                                    Successfully added {{food.name}} to the cart!
                                </div>
                            </div>
                            <div name="liveToasts" v-bind:id="'toastFail' + index" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(food, index) in menuForRestaurant">
                                <div class="toast-header bg-danger">
                                    <strong class="me-auto" style="color: white;">WebShop</strong>
                                    <small style="color: white;">just now</small>
                                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                                </div>
                                <div class="toast-body">
                                    Cannot add {{lastInputFoodQuantity}} to the cart! It has to be a round number...
                                </div>
                            </div>
                            <div name="liveToasts" v-bind:id="'toastFailEmpty' + index" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(food, index) in menuForRestaurant">
                                <div class="toast-header bg-danger">
                                    <strong class="me-auto" style="color: white;">WebShop</strong>
                                    <small style="color: white;">just now</small>
                                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                                </div>
                                <div class="toast-body">
                                    You cannot add none {{food.name}} to the cart... Enter a round number.
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Chosen restaurants menu -->
            <div class="col-10" v-if="visible == 'viewCart'">
                <div class="container">
                    <div class="row headerRow">
                        <h2 style="margin-left: 40px;">Your cart</h2>
                    </div>

                    <hr>
                    <div class="container">
                        <div class="row" style="width: 100%;">
                            <div class="table-wrapper-scroll-y my-custom-scrollbar" style="overflow-x: hidden;">
                                <table class="table table-striped align-middle"
                                    style="margin-left: 50px; width: 1150px;">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Food</th>
                                            <th scope="col">Restaurant</th>
                                            <th scope="col">Amount</th>
                                            <th scope="col">Price</th>
                                            <th scope="col">Picture</th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="(item, index) in cart">
                                            <th scope="row">{{index + 1}}.</th>
                                            <td>{{item.name}}</td>
                                            <td>{{item.restaurant}}</td>
                                            <td>{{item.amount}}</td>
                                            <td>{{item.price * item.amount}}</td>
                                            <td><img src="../Images/bronze-member.png" class="rounded"
                                                    style="max-width: 50px;">
                                            </td>
                                            <td style="width: 200px;">
                                                <button type="button" class="btn btn-danger"
                                                    v-on:click="removeFromCart(index)">Remove</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <hr>

                    <div class="row headerRow">
                        <div class="col-2"></div>
                        <div class="col-2">
                            <h2 style="margin-left: 200px;">Total:</h2>
                        </div>
                        <div class="col-2">
                            <h2 style="margin-left: 200px;">{{calculateTotal()}}</h2>
                        </div>
                        <div class="col-3"></div>
                        <div class="col-2" style="margin-left: 60px;">
                            <button type="button" class="btn btn-success">Send order</button>
                        </div>
                    </div>

                </div>
            </div>

            <div class="col-10" v-if="visible == 'orders'">
                <div class="container">
                    <div class="row headerRow">
                        <h2 style="margin-left: 40px;">Past orders</h2>
                    </div>

                    <hr>

                    <div class="row">
                        <!-- Past order cards-->
                        <div class="col-5">

                            <div class="container" style="height: 780px; width: 90%; overflow: hidden;">
                                <div class="container"
                                    style="width: 100%; height: 100%; overflow-y: scroll; box-sizing: content-box; padding-right: 17px;">

                                    <div class="row">
                                        <div class="card bg-light" style="height: auto; margin-bottom: 20px;" v-for="(pastOrder, index) in pastOrders">
                                            <div class="row my-auto">
                                                <div class="col-2" style="padding: 0%;">
                                                    <img src="../Images/bronze-member.png" style="max-width: 90px; padding-top: 20px; padding-left: 20px;">
                                                </div>
                                                <div class="col-3"></div>
                                                <div class="col-7" style="padding-top: 30px;">
                                                    <h4>{{pastOrder.restaurantName}}</h4>
                                                </div>
                                            </div>
    
                                            <hr>
    
                                            <!--Ordered items-->
                                            <div class="row my-auto" v-for="(item) in pastOrder.items">
                                                <div class="col-1"></div>
                                                
                                                <div class="col-3">
                                                    <h5>{{item.name}}</h5>
                                                </div>
    
                                                <div class="col-1">
                                                    <h5>-</h5>
                                                </div>
    
                                                <div class="col-5">
                                                    <h5>{{item.amount}}x, {{item.amount * item.price}}</h5>
                                                </div>
    
                                                <div class="col-2"></div>
                                            </div>
    
                                            <hr>
                                            <!--Total, status and rate-->
                                            <div class="row my-auto">
                                                <div class="col-1"></div>
    
                                                <div class="col-3">
                                                    <h5>Total :</h5>
                                                </div>
    
                                                <div class="col-1"></div>
    
                                                <div class="col-5">
                                                    <h5>{{getTotalForItems(index)}}</h5>
                                                </div>
                                            </div>
    
                                            <div class="row my-auto">
                                                <div class="col-1"></div>

                                                <div class="col-3">
                                                    <h5>Date :</h5>
                                                </div>

                                                <div class="col-1"></div>
                                                <div class="col-5">
                                                    <h5>{{pastOrder.date}}</h5>
                                                </div>
                                            </div>

                                            <div class="row my-auto" style="margin-bottom: 25px;">
                                                <div class="col-1"></div>
                                                
                                                <div class="col-3 my-auto">
                                                    <h5>Status :</h5>
                                                </div>
                                                
                                                <div class="col-1"></div>
    
                                                <div class="col-4 my-auto">
                                                    <h5>{{pastOrder.status}}</h5>
                                                </div>
    
                                                <div class="col-2 my-auto" v-if="pastOrder.status == 'Pending'">
                                                    <button type="button" class="btn btn-secondary">Cancel</button>
                                                </div>
                                            </div>
    
                                            <div class="row">
                                                <div class="col-5"></div>
    
                                                <div class="col-2">
                                                    <button type="button" class="btn btn-primary" style="margin-top: 25px; margin-bottom: 20px;" v-on:click="rateRestaurant(pastOrder.restaurantName)">Rate</button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>

                        <div class="col-2"></div>
                        
                        <!-- Filtering area -->
                        <div class="col-5">
                            <h3>Filters:</h3>
                            <div class="row" style="padding-top: 30px;">
                                <div class="col-4"></div>
                                <div class="col-1"></div>
                                <div class="col-7">
                                    <div class="form-check">
                                        <input class="form-check-input" type="checkbox" :checked="orderFilterObj.isOnlyNotDelievered" v-on:click="isOnlyNotDelieveredClick()" id="flexCheckDefault">
                                        <label class="form-check-label" for="flexCheckDefault">
                                            Show only not delievered orders
                                        </label>
                                      </div>
                                </div>
                            </div>
                            <div class="row" style="padding-top: 15px;">
                                <div class="col-4 my-auto">
                                    <h5>Restaurant</h5>
                                </div>
                                <div class="col-1"></div>
                                <div class="col-7">
                                    <input type="text" class="form-control" v-model="orderFilterObj.restaurant">
                                </div>
                            </div>

                            <div class="row" style="padding-top: 15px;">
                                <div class="col-4 my-auto">
                                    <h5>Price range</h5>
                                </div>
                                <div class="col-1"></div>
                                
                                <div class="col-3">
                                    <input type="number" class="form-control" min="0" v-model="orderFilterObj.bottomPrice">
                                </div>
                                <div class="col-1 text-center my-auto">
                                    <h5>-</h5>
                                </div>
                                <div class="col-3">
                                    <input type="number" class="form-control" v-model="orderFilterObj.upperPrice">
                                </div>
                            </div>

                            <div class="row" style="padding-top: 15px;">
                                <div class="col-12 my-auto text-center">
                                    <h5>Date range</h5>
                                </div>
                            </div>

                            <div class="row" style="padding-top: 15px;">
                                <div class="col-6">
                                    <input type="datetime-local" class="form-control" name="datepicker" v-model="orderFilterObj.bottomDate">
                                </div>
                                
                                <div class="col-6">
                                    <input type="datetime-local" class="form-control" name="datepicker" v-model="orderFilterObj.upperDate">
                                </div>
                            </div>

                            <div class="row" style="padding-top: 15px;">
                                <div class="col-4 my-auto">
                                    <h5>Order status</h5>
                                </div>

                                <div class="col-1"></div>
                                <div class="col-7">
                                    <input type="text" class="form-control" v-model="orderFilterObj.orderStatus">
                                </div>
                            </div>

                            <div class="row" style="padding-top: 15px;">
                                <div class="col-4 my-auto">
                                    <h5>Restaurant type</h5>
                                </div>
                                <div class="col-1"></div>
                                <div class="col-7">
                                    <input type="text" class="form-control" v-model="orderFilterObj.restaurantType">
                                </div>
                            </div>
                            
                        </div>

                    </div>
                </div>
            </div>

            <!-- Comment window -->
            <div class="col-10" v-if="visible == 'comment'">
                <div class="container">
                    <div class="row headerRow">
                        <h2 style="margin-left: 40px;">Past orders</h2>
                    </div>
    
                    <hr>

                    <div class="row">
                        <div class="col-12 text-center">
                            <img src="../Images/bronze-member.png" style="max-width: 135px;">
                        </div>
                    </div>

                    <div class="row" style="padding-top: 50px;">
                        <div class="col-12 text-center">
                            <h4>{{selectedRestaurantForComment.name}}</h4>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 text-center" style="padding-top: 50px;">
                            <div class="form-floating">
                                <textarea class="form-control" id="floatingTextarea2" style="height: 250px; max-height: 250px; min-height: 250px;" v-model="comment.text"></textarea>
                                <label for="floatingTextarea2">Comments</label>
                              </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-5 my-auto">
                            <div style="flex-direction: row-reverse; display: flex; margin-top: 50px;">
                                <h5>Rating:</h5>
                            </div>
                        </div>
                        <div class="col-2" style="padding-top: 50px;" v-model="comment.rating">
                            <select class="form-select">
                                <option selected value='5'>5</option>
                                <option value='4'>4</option>
                                <option value='3'>3</option>
                                <option value='2'>2</option>
                                <option value='1'>1</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 text-center" style="padding-top: 50px;">
                            <button type="button" class="btn btn-primary btn-lg" v-on:click="submitComment()">Submit</button>
                        </div>
                    </div>

                </div>
            </div>

            <!--Toasts-->
            <div class="toast-container">
                <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
                    <div name="liveToasts" id="commentToastSuccess" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(food, index) in menuForRestaurant">
                        <div class="toast-header bg-success">
                            <strong class="me-auto" style="color: white;">WebShop</strong>
                            <small style="color: white;">just now</small>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                        <div class="toast-body">
                            Comment submitted successfully! Thank you!
                        </div>
                    </div>
                    <div name="liveToasts" id="commentToastFail" class="toast hide" role="alert" aria-live="assertive" aria-atomic="true" v-for="(food, index) in menuForRestaurant">
                        <div class="toast-header bg-danger">
                            <strong class="me-auto" style="color: white;">WebShop</strong>
                            <small style="color: white;">just now</small>
                            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                        </div>
                        <div class="toast-body">
                            Atleast type something...
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="../Bootstrap/js/bootstrap.min.js"></script>
    <script src="../../jquery-3.3.1.min.js"></script>
    <script src="../../vue.js"></script>
    <script src="dashboard.js"></script>
</body>

</html>